# goprof-optimizer example configuration file

sampling_interval_ms: 1000     # Sample memory every 1s
retention_window_sec: 600      # Keep 10 minutes of samples
high_retention_threshold_percent: 70.0

metrics_listen_addr: ":8080"   # Main HTTP server address

prometheus_enabled: true       # Enable /metrics for Prometheus
pprof_enabled: true            # Enable /debug/pprof/*
pprof_listen_addr: ""          # If empty, pprof served on same addr as metrics

max_history_samples: 3600      # Up to 3600 snapshots in memory
alerting_enabled: true

memory_spike_threshold_percent: 30.0
log_level: "info"

shutdown_grace_period_sec: 15

# Auto heap profile capture (can also be set via env; see env names in loader.go)
profile_capture_enabled: false
profile_capture_dir: "./profiles"
profile_capture_max_files: 10
profile_capture_min_interval_sec: 60
profile_capture_on_severities: ["critical"]
